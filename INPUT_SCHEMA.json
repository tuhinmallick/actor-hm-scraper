{
    "title": "H&M Enhanced Scraper Input",
    "description": "Configure the H&M scraper with flexible URL-based scraping, advanced filters, and robust extraction",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "startUrls": {
            "title": "Start URLs",
            "type": "array",
            "description": "Direct URLs to scrape. Can be category pages, search results, or product pages",
            "prefill": [
                "https://www2.hm.com/en_us/women/products/dresses.html"
            ],
            "editor": "stringList"
        },
        "searchQueries": {
            "title": "Search Queries",
            "type": "array",
            "description": "Search terms to find products (e.g., 'summer dress', 'denim jacket')",
            "editor": "stringList"
        },
        "country": {
            "title": "Country/Market",
            "type": "string",
            "description": "H&M market to scrape from",
            "default": "en_us",
            "enum": [
                "en_us", "en_gb", "de_de", "fr_fr", "es_es", 
                "it_it", "nl_nl", "sv_se", "en_ca", "en_au"
            ],
            "enumTitles": [
                "USA", "UK", "Germany", "France", "Spain",
                "Italy", "Netherlands", "Sweden", "Canada", "Australia"
            ]
        },
        "categories": {
            "title": "Categories",
            "type": "array",
            "description": "Product categories to scrape (e.g., 'women/dresses', 'men/shirts')",
            "editor": "stringList"
        },
        "filters": {
            "title": "Product Filters",
            "type": "object",
            "description": "Apply filters to narrow down products",
            "properties": {
                "minPrice": {
                    "title": "Minimum Price",
                    "type": "number",
                    "description": "Minimum price in local currency"
                },
                "maxPrice": {
                    "title": "Maximum Price",
                    "type": "number",
                    "description": "Maximum price in local currency"
                },
                "colors": {
                    "title": "Colors",
                    "type": "array",
                    "description": "Color filters (e.g., 'black', 'white', 'red')",
                    "editor": "stringList"
                },
                "sizes": {
                    "title": "Sizes",
                    "type": "array",
                    "description": "Size filters (e.g., 'S', 'M', 'L', 'XL')",
                    "editor": "stringList"
                },
                "materials": {
                    "title": "Materials",
                    "type": "array",
                    "description": "Material filters (e.g., 'cotton', 'polyester', 'wool')",
                    "editor": "stringList"
                },
                "patterns": {
                    "title": "Patterns",
                    "type": "array",
                    "description": "Pattern filters (e.g., 'solid', 'striped', 'floral')",
                    "editor": "stringList"
                },
                "sale": {
                    "title": "Sale Items Only",
                    "type": "boolean",
                    "description": "Only scrape items on sale",
                    "default": false
                },
                "sustainable": {
                    "title": "Sustainable/Conscious",
                    "type": "boolean",
                    "description": "Only scrape sustainable/conscious items",
                    "default": false
                }
            }
        },
        "maxProducts": {
            "title": "Maximum Products",
            "type": "integer",
            "description": "Maximum number of products to scrape (0 = unlimited)",
            "default": 100,
            "minimum": 0
        },
        "maxPages": {
            "title": "Maximum Pages",
            "type": "integer",
            "description": "Maximum number of pages to scrape per category (0 = unlimited)",
            "default": 0,
            "minimum": 0
        },
        "productsPerPage": {
            "title": "Products Per Page",
            "type": "integer",
            "description": "Number of products to load per page (max 128)",
            "default": 72,
            "minimum": 1,
            "maximum": 128
        },
        "sortBy": {
            "title": "Sort By",
            "type": "string",
            "description": "How to sort products",
            "default": "stock",
            "enum": ["stock", "newProduct", "ascPrice", "descPrice"],
            "enumTitles": ["Stock/Relevance", "Newest", "Price: Low to High", "Price: High to Low"]
        },
        "includeVariants": {
            "title": "Include Color/Size Variants",
            "type": "boolean",
            "description": "Scrape all color and size variants of products",
            "default": true
        },
        "extractProductDetails": {
            "title": "Extract Detailed Info",
            "type": "boolean",
            "description": "Visit product pages to extract detailed information",
            "default": false
        },
        "outputFields": {
            "title": "Output Fields",
            "type": "array",
            "description": "Fields to include in output (empty = all fields)",
            "editor": "stringList",
            "default": [],
            "uniqueItems": true,
            "items": {
                "type": "string",
                "enum": [
                    "articleCode", "title", "price", "salePrice", "currency",
                    "colors", "sizes", "images", "description", "materials",
                    "category", "url", "availability", "ratings"
                ]
            }
        },
        "proxyConfiguration": {
            "title": "Proxy Configuration",
            "type": "object",
            "description": "Use proxies to avoid blocking",
            "prefill": { "useApifyProxy": true },
            "editor": "proxy"
        },
        "maxConcurrency": {
            "title": "Max Concurrency",
            "type": "integer",
            "description": "Maximum concurrent requests",
            "default": 5,
            "minimum": 1,
            "maximum": 50
        },
        "requestTimeout": {
            "title": "Request Timeout",
            "type": "integer",
            "description": "Timeout for each request in seconds",
            "default": 60,
            "minimum": 10,
            "maximum": 300
        },
        "retryAttempts": {
            "title": "Retry Attempts",
            "type": "integer",
            "description": "Number of retry attempts for failed requests",
            "default": 3,
            "minimum": 0,
            "maximum": 10
        },
        "enableAntiBot": {
            "title": "Enable Anti-Bot Measures",
            "type": "boolean",
            "description": "Use advanced anti-bot detection evasion",
            "default": true
        },
        "enableSmartExtraction": {
            "title": "Smart Extraction",
            "type": "boolean",
            "description": "Use intelligent extraction with multiple fallbacks",
            "default": true
        },
        "enableProgressiveSaving": {
            "title": "Progressive Saving",
            "type": "boolean",
            "description": "Save data progressively during scraping",
            "default": true
        },
        "debug": {
            "title": "Debug Mode",
            "type": "boolean",
            "description": "Enable detailed logging",
            "default": false
        }
    },
    "required": []
}